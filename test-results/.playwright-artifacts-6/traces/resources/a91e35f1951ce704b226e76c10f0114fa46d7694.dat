// Types

/** Convert a point in local space to viewport space */
export function elementToViewport(point, offset) {
  return {
    x: point.x + offset.x,
    y: point.y + offset.y
  };
}

/** Convert a point in viewport space to local space */
export function viewportToElement(point, offset) {
  return {
    x: point.x - offset.x,
    y: point.y - offset.y
  };
}

/** Get the difference between two points */
export function getOffset(a, b) {
  return {
    x: a.x - b.x,
    y: a.y - b.y
  };
}

/** Convert an anchor object to a point in local space */
export function anchorToPoint(anchor, box) {
  if (anchor.side === 'top' || anchor.side === 'bottom') {
    const {
      side,
      align
    } = anchor;
    const x = align === 'left' ? 0 : align === 'center' ? box.width / 2 : align === 'right' ? box.width : align;
    const y = side === 'top' ? 0 : side === 'bottom' ? box.height : side;
    return elementToViewport({
      x,
      y
    }, box);
  } else if (anchor.side === 'left' || anchor.side === 'right') {
    const {
      side,
      align
    } = anchor;
    const x = side === 'left' ? 0 : side === 'right' ? box.width : side;
    const y = align === 'top' ? 0 : align === 'center' ? box.height / 2 : align === 'bottom' ? box.height : align;
    return elementToViewport({
      x,
      y
    }, box);
  }
  return elementToViewport({
    x: box.width / 2,
    y: box.height / 2
  }, box);
}
                                  
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9pbnQubWpzIiwibmFtZXMiOlsiZWxlbWVudFRvVmlld3BvcnQiLCJwb2ludCIsIm9mZnNldCIsIngiLCJ5Iiwidmlld3BvcnRUb0VsZW1lbnQiLCJnZXRPZmZzZXQiLCJhIiwiYiIsImFuY2hvclRvUG9pbnQiLCJhbmNob3IiLCJib3giLCJzaWRlIiwiYWxpZ24iLCJ3aWR0aCIsImhlaWdodCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1ZPdmVybGF5L3V0aWwvcG9pbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVHlwZXNcbmltcG9ydCB0eXBlIHsgUGFyc2VkQW5jaG9yIH0gZnJvbSAnQC91dGlsJ1xuaW1wb3J0IHR5cGUgeyBCb3ggfSBmcm9tICdAL3V0aWwvYm94J1xuXG50eXBlIFBvaW50ID0geyB4OiBudW1iZXIsIHk6IG51bWJlciB9XG5kZWNsYXJlIGNsYXNzIEFzPFQgZXh0ZW5kcyBzdHJpbmc+IHtcbiAgcHJpdmF0ZSBhczogVFxufVxudHlwZSBFbGVtZW50UG9pbnQgPSBQb2ludCAmIEFzPCdlbGVtZW50Jz5cbnR5cGUgVmlld3BvcnRQb2ludCA9IFBvaW50ICYgQXM8J3ZpZXdwb3J0Jz5cbnR5cGUgT2Zmc2V0ID0gUG9pbnQgJiBBczwnb2Zmc2V0Jz5cblxuLyoqIENvbnZlcnQgYSBwb2ludCBpbiBsb2NhbCBzcGFjZSB0byB2aWV3cG9ydCBzcGFjZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRUb1ZpZXdwb3J0IChwb2ludDogRWxlbWVudFBvaW50LCBvZmZzZXQ6IE9mZnNldCB8IEJveCkge1xuICByZXR1cm4ge1xuICAgIHg6IHBvaW50LnggKyBvZmZzZXQueCxcbiAgICB5OiBwb2ludC55ICsgb2Zmc2V0LnksXG4gIH0gYXMgVmlld3BvcnRQb2ludFxufVxuXG4vKiogQ29udmVydCBhIHBvaW50IGluIHZpZXdwb3J0IHNwYWNlIHRvIGxvY2FsIHNwYWNlICovXG5leHBvcnQgZnVuY3Rpb24gdmlld3BvcnRUb0VsZW1lbnQgKHBvaW50OiBWaWV3cG9ydFBvaW50LCBvZmZzZXQ6IE9mZnNldCB8IEJveCkge1xuICByZXR1cm4ge1xuICAgIHg6IHBvaW50LnggLSBvZmZzZXQueCxcbiAgICB5OiBwb2ludC55IC0gb2Zmc2V0LnksXG4gIH0gYXMgRWxlbWVudFBvaW50XG59XG5cbi8qKiBHZXQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gcG9pbnRzICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T2Zmc2V0PFQgZXh0ZW5kcyBQb2ludD4gKGE6IFQsIGI6IFQpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBhLnggLSBiLngsXG4gICAgeTogYS55IC0gYi55LFxuICB9IGFzIE9mZnNldFxufVxuXG4vKiogQ29udmVydCBhbiBhbmNob3Igb2JqZWN0IHRvIGEgcG9pbnQgaW4gbG9jYWwgc3BhY2UgKi9cbmV4cG9ydCBmdW5jdGlvbiBhbmNob3JUb1BvaW50IChhbmNob3I6IFBhcnNlZEFuY2hvciwgYm94OiBCb3gpOiBWaWV3cG9ydFBvaW50IHtcbiAgaWYgKGFuY2hvci5zaWRlID09PSAndG9wJyB8fCBhbmNob3Iuc2lkZSA9PT0gJ2JvdHRvbScpIHtcbiAgICBjb25zdCB7IHNpZGUsIGFsaWduIH0gPSBhbmNob3JcblxuICAgIGNvbnN0IHg6IG51bWJlciA9XG4gICAgICBhbGlnbiA9PT0gJ2xlZnQnID8gMFxuICAgICAgOiBhbGlnbiA9PT0gJ2NlbnRlcicgPyBib3gud2lkdGggLyAyXG4gICAgICA6IGFsaWduID09PSAncmlnaHQnID8gYm94LndpZHRoXG4gICAgICA6IGFsaWduXG4gICAgY29uc3QgeTogbnVtYmVyID1cbiAgICAgIHNpZGUgPT09ICd0b3AnID8gMFxuICAgICAgOiBzaWRlID09PSAnYm90dG9tJyA/IGJveC5oZWlnaHRcbiAgICAgIDogc2lkZVxuXG4gICAgcmV0dXJuIGVsZW1lbnRUb1ZpZXdwb3J0KHsgeCwgeSB9IGFzIEVsZW1lbnRQb2ludCwgYm94KVxuICB9IGVsc2UgaWYgKGFuY2hvci5zaWRlID09PSAnbGVmdCcgfHwgYW5jaG9yLnNpZGUgPT09ICdyaWdodCcpIHtcbiAgICBjb25zdCB7IHNpZGUsIGFsaWduIH0gPSBhbmNob3JcblxuICAgIGNvbnN0IHg6IG51bWJlciA9XG4gICAgICBzaWRlID09PSAnbGVmdCcgPyAwXG4gICAgICA6IHNpZGUgPT09ICdyaWdodCcgPyBib3gud2lkdGhcbiAgICAgIDogc2lkZVxuICAgIGNvbnN0IHk6IG51bWJlciA9XG4gICAgICBhbGlnbiA9PT0gJ3RvcCcgPyAwXG4gICAgICA6IGFsaWduID09PSAnY2VudGVyJyA/IGJveC5oZWlnaHQgLyAyXG4gICAgICA6IGFsaWduID09PSAnYm90dG9tJyA/IGJveC5oZWlnaHRcbiAgICAgIDogYWxpZ25cblxuICAgIHJldHVybiBlbGVtZW50VG9WaWV3cG9ydCh7IHgsIHkgfSBhcyBFbGVtZW50UG9pbnQsIGJveClcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50VG9WaWV3cG9ydCh7XG4gICAgeDogYm94LndpZHRoIC8gMixcbiAgICB5OiBib3guaGVpZ2h0IC8gMixcbiAgfSBhcyBFbGVtZW50UG9pbnQsIGJveClcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBWUE7QUFDQSxPQUFPLFNBQVNBLGlCQUFpQkEsQ0FBRUMsS0FBbUIsRUFBRUMsTUFBb0IsRUFBRTtFQUM1RSxPQUFPO0lBQ0xDLENBQUMsRUFBRUYsS0FBSyxDQUFDRSxDQUFDLEdBQUdELE1BQU0sQ0FBQ0MsQ0FBQztJQUNyQkMsQ0FBQyxFQUFFSCxLQUFLLENBQUNHLENBQUMsR0FBR0YsTUFBTSxDQUFDRTtFQUN0QixDQUFDO0FBQ0g7O0FBRUE7QUFDQSxPQUFPLFNBQVNDLGlCQUFpQkEsQ0FBRUosS0FBb0IsRUFBRUMsTUFBb0IsRUFBRTtFQUM3RSxPQUFPO0lBQ0xDLENBQUMsRUFBRUYsS0FBSyxDQUFDRSxDQUFDLEdBQUdELE1BQU0sQ0FBQ0MsQ0FBQztJQUNyQkMsQ0FBQyxFQUFFSCxLQUFLLENBQUNHLENBQUMsR0FBR0YsTUFBTSxDQUFDRTtFQUN0QixDQUFDO0FBQ0g7O0FBRUE7QUFDQSxPQUFPLFNBQVNFLFNBQVNBLENBQW1CQyxDQUFJLEVBQUVDLENBQUksRUFBRTtFQUN0RCxPQUFPO0lBQ0xMLENBQUMsRUFBRUksQ0FBQyxDQUFDSixDQUFDLEdBQUdLLENBQUMsQ0FBQ0wsQ0FBQztJQUNaQyxDQUFDLEVBQUVHLENBQUMsQ0FBQ0gsQ0FBQyxHQUFHSSxDQUFDLENBQUNKO0VBQ2IsQ0FBQztBQUNIOztBQUVBO0FBQ0EsT0FBTyxTQUFTSyxhQUFhQSxDQUFFQyxNQUFvQixFQUFFQyxHQUFRLEVBQWlCO0VBQzVFLElBQUlELE1BQU0sQ0FBQ0UsSUFBSSxLQUFLLEtBQUssSUFBSUYsTUFBTSxDQUFDRSxJQUFJLEtBQUssUUFBUSxFQUFFO0lBQ3JELE1BQU07TUFBRUEsSUFBSTtNQUFFQztJQUFNLENBQUMsR0FBR0gsTUFBTTtJQUU5QixNQUFNUCxDQUFTLEdBQ2JVLEtBQUssS0FBSyxNQUFNLEdBQUcsQ0FBQyxHQUNsQkEsS0FBSyxLQUFLLFFBQVEsR0FBR0YsR0FBRyxDQUFDRyxLQUFLLEdBQUcsQ0FBQyxHQUNsQ0QsS0FBSyxLQUFLLE9BQU8sR0FBR0YsR0FBRyxDQUFDRyxLQUFLLEdBQzdCRCxLQUFLO0lBQ1QsTUFBTVQsQ0FBUyxHQUNiUSxJQUFJLEtBQUssS0FBSyxHQUFHLENBQUMsR0FDaEJBLElBQUksS0FBSyxRQUFRLEdBQUdELEdBQUcsQ0FBQ0ksTUFBTSxHQUM5QkgsSUFBSTtJQUVSLE9BQU9aLGlCQUFpQixDQUFDO01BQUVHLENBQUM7TUFBRUM7SUFBRSxDQUFDLEVBQWtCTyxHQUFHLENBQUM7RUFDekQsQ0FBQyxNQUFNLElBQUlELE1BQU0sQ0FBQ0UsSUFBSSxLQUFLLE1BQU0sSUFBSUYsTUFBTSxDQUFDRSxJQUFJLEtBQUssT0FBTyxFQUFFO0lBQzVELE1BQU07TUFBRUEsSUFBSTtNQUFFQztJQUFNLENBQUMsR0FBR0gsTUFBTTtJQUU5QixNQUFNUCxDQUFTLEdBQ2JTLElBQUksS0FBSyxNQUFNLEdBQUcsQ0FBQyxHQUNqQkEsSUFBSSxLQUFLLE9BQU8sR0FBR0QsR0FBRyxDQUFDRyxLQUFLLEdBQzVCRixJQUFJO0lBQ1IsTUFBTVIsQ0FBUyxHQUNiUyxLQUFLLEtBQUssS0FBSyxHQUFHLENBQUMsR0FDakJBLEtBQUssS0FBSyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0ksTUFBTSxHQUFHLENBQUMsR0FDbkNGLEtBQUssS0FBSyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0ksTUFBTSxHQUMvQkYsS0FBSztJQUVULE9BQU9iLGlCQUFpQixDQUFDO01BQUVHLENBQUM7TUFBRUM7SUFBRSxDQUFDLEVBQWtCTyxHQUFHLENBQUM7RUFDekQ7RUFFQSxPQUFPWCxpQkFBaUIsQ0FBQztJQUN2QkcsQ0FBQyxFQUFFUSxHQUFHLENBQUNHLEtBQUssR0FBRyxDQUFDO0lBQ2hCVixDQUFDLEVBQUVPLEdBQUcsQ0FBQ0ksTUFBTSxHQUFHO0VBQ2xCLENBQUMsRUFBa0JKLEdBQUcsQ0FBQztBQUN6QiIsImlnbm9yZUxpc3QiOltdLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19