// Utilities
import { effectScope, onScopeDispose, watch } from "/node_modules/.vite/deps/vue.js?v=48017b6c";

// Types

export function useToggleScope(source, fn) {
  let scope;
  function start() {
    scope = effectScope();
    scope.run(() => fn.length ? fn(() => {
      scope?.stop();
      start();
    }) : fn());
  }
  watch(source, active => {
    if (active && !scope) {
      start();
    } else if (!active) {
      scope?.stop();
      scope = undefined;
    }
  }, {
    immediate: true
  });
  onScopeDispose(() => {
    scope?.stop();
  });
}
                                        
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9nZ2xlU2NvcGUubWpzIiwibmFtZXMiOlsiZWZmZWN0U2NvcGUiLCJvblNjb3BlRGlzcG9zZSIsIndhdGNoIiwidXNlVG9nZ2xlU2NvcGUiLCJzb3VyY2UiLCJmbiIsInNjb3BlIiwic3RhcnQiLCJydW4iLCJsZW5ndGgiLCJzdG9wIiwiYWN0aXZlIiwidW5kZWZpbmVkIiwiaW1tZWRpYXRlIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbXBvc2FibGVzL3RvZ2dsZVNjb3BlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFV0aWxpdGllc1xuaW1wb3J0IHsgZWZmZWN0U2NvcGUsIG9uU2NvcGVEaXNwb3NlLCB3YXRjaCB9IGZyb20gJ3Z1ZSdcblxuLy8gVHlwZXNcbmltcG9ydCB0eXBlIHsgRWZmZWN0U2NvcGUsIFdhdGNoU291cmNlIH0gZnJvbSAndnVlJ1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlVG9nZ2xlU2NvcGUgKHNvdXJjZTogV2F0Y2hTb3VyY2U8Ym9vbGVhbj4sIGZuOiAocmVzZXQ6ICgpID0+IHZvaWQpID0+IHZvaWQpIHtcbiAgbGV0IHNjb3BlOiBFZmZlY3RTY29wZSB8IHVuZGVmaW5lZFxuICBmdW5jdGlvbiBzdGFydCAoKSB7XG4gICAgc2NvcGUgPSBlZmZlY3RTY29wZSgpXG4gICAgc2NvcGUucnVuKCgpID0+IGZuLmxlbmd0aFxuICAgICAgPyBmbigoKSA9PiB7IHNjb3BlPy5zdG9wKCk7IHN0YXJ0KCkgfSlcbiAgICAgIDogKGZuIGFzIGFueSkoKVxuICAgIClcbiAgfVxuXG4gIHdhdGNoKHNvdXJjZSwgYWN0aXZlID0+IHtcbiAgICBpZiAoYWN0aXZlICYmICFzY29wZSkge1xuICAgICAgc3RhcnQoKVxuICAgIH0gZWxzZSBpZiAoIWFjdGl2ZSkge1xuICAgICAgc2NvcGU/LnN0b3AoKVxuICAgICAgc2NvcGUgPSB1bmRlZmluZWRcbiAgICB9XG4gIH0sIHsgaW1tZWRpYXRlOiB0cnVlIH0pXG5cbiAgb25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgIHNjb3BlPy5zdG9wKClcbiAgfSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxTQUFTQSxXQUFXLEVBQUVDLGNBQWMsRUFBRUMsS0FBSyxRQUFRLEtBQUs7O0FBRXhEOztBQUdBLE9BQU8sU0FBU0MsY0FBY0EsQ0FBRUMsTUFBNEIsRUFBRUMsRUFBK0IsRUFBRTtFQUM3RixJQUFJQyxLQUE4QjtFQUNsQyxTQUFTQyxLQUFLQSxDQUFBLEVBQUk7SUFDaEJELEtBQUssR0FBR04sV0FBVyxDQUFDLENBQUM7SUFDckJNLEtBQUssQ0FBQ0UsR0FBRyxDQUFDLE1BQU1ILEVBQUUsQ0FBQ0ksTUFBTSxHQUNyQkosRUFBRSxDQUFDLE1BQU07TUFBRUMsS0FBSyxFQUFFSSxJQUFJLENBQUMsQ0FBQztNQUFFSCxLQUFLLENBQUMsQ0FBQztJQUFDLENBQUMsQ0FBQyxHQUNuQ0YsRUFBRSxDQUFTLENBQ2hCLENBQUM7RUFDSDtFQUVBSCxLQUFLLENBQUNFLE1BQU0sRUFBRU8sTUFBTSxJQUFJO0lBQ3RCLElBQUlBLE1BQU0sSUFBSSxDQUFDTCxLQUFLLEVBQUU7TUFDcEJDLEtBQUssQ0FBQyxDQUFDO0lBQ1QsQ0FBQyxNQUFNLElBQUksQ0FBQ0ksTUFBTSxFQUFFO01BQ2xCTCxLQUFLLEVBQUVJLElBQUksQ0FBQyxDQUFDO01BQ2JKLEtBQUssR0FBR00sU0FBUztJQUNuQjtFQUNGLENBQUMsRUFBRTtJQUFFQyxTQUFTLEVBQUU7RUFBSyxDQUFDLENBQUM7RUFFdkJaLGNBQWMsQ0FBQyxNQUFNO0lBQ25CSyxLQUFLLEVBQUVJLElBQUksQ0FBQyxDQUFDO0VBQ2YsQ0FBQyxDQUFDO0FBQ0oiLCJpZ25vcmVMaXN0IjpbXSwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==