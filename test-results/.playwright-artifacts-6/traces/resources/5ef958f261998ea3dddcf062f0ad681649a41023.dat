// Components
import { VMenuSymbol } from "/node_modules/vuetify/lib/components/VMenu/shared.mjs?v=48017b6c"; // Composables
import { makeDelayProps, useDelay } from "/node_modules/vuetify/lib/composables/delay.mjs?v=48017b6c"; // Utilities
import { computed, effectScope, inject, mergeProps, nextTick, onScopeDispose, ref, watch, watchEffect } from "/node_modules/.vite/deps/vue.js?v=48017b6c";
import { bindProps, getCurrentInstance, IN_BROWSER, matchesSelector, propsFactory, templateRef, unbindProps } from "/node_modules/vuetify/lib/util/index.mjs?v=48017b6c"; // Types
export const makeActivatorProps = propsFactory({
  target: [String, Object],
  activator: [String, Object],
  activatorProps: {
    type: Object,
    default: () => ({})
  },
  openOnClick: {
    type: Boolean,
    default: undefined
  },
  openOnHover: Boolean,
  openOnFocus: {
    type: Boolean,
    default: undefined
  },
  closeOnContentClick: Boolean,
  ...makeDelayProps()
}, 'VOverlay-activator');
export function useActivator(props, _ref) {
  let {
    isActive,
    isTop,
    contentEl
  } = _ref;
  const vm = getCurrentInstance('useActivator');
  const activatorEl = ref();
  let isHovered = false;
  let isFocused = false;
  let firstEnter = true;
  const openOnFocus = computed(() => props.openOnFocus || props.openOnFocus == null && props.openOnHover);
  const openOnClick = computed(() => props.openOnClick || props.openOnClick == null && !props.openOnHover && !openOnFocus.value);
  const {
    runOpenDelay,
    runCloseDelay
  } = useDelay(props, value => {
    if (value === (props.openOnHover && isHovered || openOnFocus.value && isFocused) && !(props.openOnHover && isActive.value && !isTop.value)) {
      if (isActive.value !== value) {
        firstEnter = true;
      }
      isActive.value = value;
    }
  });
  const cursorTarget = ref();
  const availableEvents = {
    onClick: e => {
      e.stopPropagation();
      activatorEl.value = e.currentTarget || e.target;
      if (!isActive.value) {
        cursorTarget.value = [e.clientX, e.clientY];
      }
      isActive.value = !isActive.value;
    },
    onMouseenter: e => {
      if (e.sourceCapabilities?.firesTouchEvents) return;
      isHovered = true;
      activatorEl.value = e.currentTarget || e.target;
      runOpenDelay();
    },
    onMouseleave: e => {
      isHovered = false;
      runCloseDelay();
    },
    onFocus: e => {
      if (matchesSelector(e.target, ':focus-visible') === false) return;
      isFocused = true;
      e.stopPropagation();
      activatorEl.value = e.currentTarget || e.target;
      runOpenDelay();
    },
    onBlur: e => {
      isFocused = false;
      e.stopPropagation();
      runCloseDelay();
    }
  };
  const activatorEvents = computed(() => {
    const events = {};
    if (openOnClick.value) {
      events.onClick = availableEvents.onClick;
    }
    if (props.openOnHover) {
      events.onMouseenter = availableEvents.onMouseenter;
      events.onMouseleave = availableEvents.onMouseleave;
    }
    if (openOnFocus.value) {
      events.onFocus = availableEvents.onFocus;
      events.onBlur = availableEvents.onBlur;
    }
    return events;
  });
  const contentEvents = computed(() => {
    const events = {};
    if (props.openOnHover) {
      events.onMouseenter = () => {
        isHovered = true;
        runOpenDelay();
      };
      events.onMouseleave = () => {
        isHovered = false;
        runCloseDelay();
      };
    }
    if (openOnFocus.value) {
      events.onFocusin = () => {
        isFocused = true;
        runOpenDelay();
      };
      events.onFocusout = () => {
        isFocused = false;
        runCloseDelay();
      };
    }
    if (props.closeOnContentClick) {
      const menu = inject(VMenuSymbol, null);
      events.onClick = () => {
        isActive.value = false;
        menu?.closeParents();
      };
    }
    return events;
  });
  const scrimEvents = computed(() => {
    const events = {};
    if (props.openOnHover) {
      events.onMouseenter = () => {
        if (firstEnter) {
          isHovered = true;
          firstEnter = false;
          runOpenDelay();
        }
      };
      events.onMouseleave = () => {
        isHovered = false;
        runCloseDelay();
      };
    }
    return events;
  });
  watch(isTop, val => {
    if (val && (props.openOnHover && !isHovered && (!openOnFocus.value || !isFocused) || openOnFocus.value && !isFocused && (!props.openOnHover || !isHovered)) && !contentEl.value?.contains(document.activeElement)) {
      isActive.value = false;
    }
  });
  watch(isActive, val => {
    if (!val) {
      setTimeout(() => {
        cursorTarget.value = undefined;
      });
    }
  }, {
    flush: 'post'
  });
  const activatorRef = templateRef();
  watchEffect(() => {
    if (!activatorRef.value) return;
    nextTick(() => {
      activatorEl.value = activatorRef.el;
    });
  });
  const targetRef = templateRef();
  const target = computed(() => {
    if (props.target === 'cursor' && cursorTarget.value) return cursorTarget.value;
    if (targetRef.value) return targetRef.el;
    return getTarget(props.target, vm) || activatorEl.value;
  });
  const targetEl = computed(() => {
    return Array.isArray(target.value) ? undefined : target.value;
  });
  let scope;
  watch(() => !!props.activator, val => {
    if (val && IN_BROWSER) {
      scope = effectScope();
      scope.run(() => {
        _useActivator(props, vm, {
          activatorEl,
          activatorEvents
        });
      });
    } else if (scope) {
      scope.stop();
    }
  }, {
    flush: 'post',
    immediate: true
  });
  onScopeDispose(() => {
    scope?.stop();
  });
  return {
    activatorEl,
    activatorRef,
    target,
    targetEl,
    targetRef,
    activatorEvents,
    contentEvents,
    scrimEvents
  };
}
function _useActivator(props, vm, _ref2) {
  let {
    activatorEl,
    activatorEvents
  } = _ref2;
  watch(() => props.activator, (val, oldVal) => {
    if (oldVal && val !== oldVal) {
      const activator = getActivator(oldVal);
      activator && unbindActivatorProps(activator);
    }
    if (val) {
      nextTick(() => bindActivatorProps());
    }
  }, {
    immediate: true
  });
  watch(() => props.activatorProps, () => {
    bindActivatorProps();
  });
  onScopeDispose(() => {
    unbindActivatorProps();
  });
  function bindActivatorProps() {
    let el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getActivator();
    let _props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.activatorProps;
    if (!el) return;
    bindProps(el, mergeProps(activatorEvents.value, _props));
  }
  function unbindActivatorProps() {
    let el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getActivator();
    let _props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.activatorProps;
    if (!el) return;
    unbindProps(el, mergeProps(activatorEvents.value, _props));
  }
  function getActivator() {
    let selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activator;
    const activator = getTarget(selector, vm);

    // The activator should only be a valid element (Ignore comments and text nodes)
    activatorEl.value = activator?.nodeType === Node.ELEMENT_NODE ? activator : undefined;
    return activatorEl.value;
  }
}
function getTarget(selector, vm) {
  if (!selector) return;
  let target;
  if (selector === 'parent') {
    let el = vm?.proxy?.$el?.parentNode;
    while (el?.hasAttribute('data-no-activator')) {
      el = el.parentNode;
    }
    target = el;
  } else if (typeof selector === 'string') {
    // Selector
    target = document.querySelector(selector);
  } else if ('$el' in selector) {
    // Component (ref)
    target = selector.$el;
  } else {
    // HTMLElement | Element | [x, y]
    target = selector;
  }
  return target;
}
                                         
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlQWN0aXZhdG9yLm1qcyIsIm5hbWVzIjpbIlZNZW51U3ltYm9sIiwibWFrZURlbGF5UHJvcHMiLCJ1c2VEZWxheSIsImNvbXB1dGVkIiwiZWZmZWN0U2NvcGUiLCJpbmplY3QiLCJtZXJnZVByb3BzIiwibmV4dFRpY2siLCJvblNjb3BlRGlzcG9zZSIsInJlZiIsIndhdGNoIiwid2F0Y2hFZmZlY3QiLCJiaW5kUHJvcHMiLCJnZXRDdXJyZW50SW5zdGFuY2UiLCJJTl9CUk9XU0VSIiwibWF0Y2hlc1NlbGVjdG9yIiwicHJvcHNGYWN0b3J5IiwidGVtcGxhdGVSZWYiLCJ1bmJpbmRQcm9wcyIsIm1ha2VBY3RpdmF0b3JQcm9wcyIsInRhcmdldCIsIlN0cmluZyIsIk9iamVjdCIsImFjdGl2YXRvciIsImFjdGl2YXRvclByb3BzIiwidHlwZSIsImRlZmF1bHQiLCJvcGVuT25DbGljayIsIkJvb2xlYW4iLCJ1bmRlZmluZWQiLCJvcGVuT25Ib3ZlciIsIm9wZW5PbkZvY3VzIiwiY2xvc2VPbkNvbnRlbnRDbGljayIsInVzZUFjdGl2YXRvciIsInByb3BzIiwiX3JlZiIsImlzQWN0aXZlIiwiaXNUb3AiLCJjb250ZW50RWwiLCJ2bSIsImFjdGl2YXRvckVsIiwiaXNIb3ZlcmVkIiwiaXNGb2N1c2VkIiwiZmlyc3RFbnRlciIsInZhbHVlIiwicnVuT3BlbkRlbGF5IiwicnVuQ2xvc2VEZWxheSIsImN1cnNvclRhcmdldCIsImF2YWlsYWJsZUV2ZW50cyIsIm9uQ2xpY2siLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiY3VycmVudFRhcmdldCIsImNsaWVudFgiLCJjbGllbnRZIiwib25Nb3VzZWVudGVyIiwic291cmNlQ2FwYWJpbGl0aWVzIiwiZmlyZXNUb3VjaEV2ZW50cyIsIm9uTW91c2VsZWF2ZSIsIm9uRm9jdXMiLCJvbkJsdXIiLCJhY3RpdmF0b3JFdmVudHMiLCJldmVudHMiLCJjb250ZW50RXZlbnRzIiwib25Gb2N1c2luIiwib25Gb2N1c291dCIsIm1lbnUiLCJjbG9zZVBhcmVudHMiLCJzY3JpbUV2ZW50cyIsInZhbCIsImNvbnRhaW5zIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50Iiwic2V0VGltZW91dCIsImZsdXNoIiwiYWN0aXZhdG9yUmVmIiwiZWwiLCJ0YXJnZXRSZWYiLCJnZXRUYXJnZXQiLCJ0YXJnZXRFbCIsIkFycmF5IiwiaXNBcnJheSIsInNjb3BlIiwicnVuIiwiX3VzZUFjdGl2YXRvciIsInN0b3AiLCJpbW1lZGlhdGUiLCJfcmVmMiIsIm9sZFZhbCIsImdldEFjdGl2YXRvciIsInVuYmluZEFjdGl2YXRvclByb3BzIiwiYmluZEFjdGl2YXRvclByb3BzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiX3Byb3BzIiwic2VsZWN0b3IiLCJub2RlVHlwZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJwcm94eSIsIiRlbCIsInBhcmVudE5vZGUiLCJoYXNBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVk92ZXJsYXkvdXNlQWN0aXZhdG9yLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb21wb25lbnRzXG5pbXBvcnQgeyBWTWVudVN5bWJvbCB9IGZyb20gJ0AvY29tcG9uZW50cy9WTWVudS9zaGFyZWQnXG5cbi8vIENvbXBvc2FibGVzXG5pbXBvcnQgeyBtYWtlRGVsYXlQcm9wcywgdXNlRGVsYXkgfSBmcm9tICdAL2NvbXBvc2FibGVzL2RlbGF5J1xuXG4vLyBVdGlsaXRpZXNcbmltcG9ydCB7XG4gIGNvbXB1dGVkLFxuICBlZmZlY3RTY29wZSxcbiAgaW5qZWN0LFxuICBtZXJnZVByb3BzLFxuICBuZXh0VGljayxcbiAgb25TY29wZURpc3Bvc2UsXG4gIHJlZixcbiAgd2F0Y2gsXG4gIHdhdGNoRWZmZWN0LFxufSBmcm9tICd2dWUnXG5pbXBvcnQge1xuICBiaW5kUHJvcHMsXG4gIGdldEN1cnJlbnRJbnN0YW5jZSxcbiAgSU5fQlJPV1NFUixcbiAgbWF0Y2hlc1NlbGVjdG9yLFxuICBwcm9wc0ZhY3RvcnksXG4gIHRlbXBsYXRlUmVmLFxuICB1bmJpbmRQcm9wcyxcbn0gZnJvbSAnQC91dGlsJ1xuXG4vLyBUeXBlc1xuaW1wb3J0IHR5cGUge1xuICBDb21wb25lbnRJbnRlcm5hbEluc3RhbmNlLFxuICBDb21wb25lbnRQdWJsaWNJbnN0YW5jZSxcbiAgRWZmZWN0U2NvcGUsXG4gIFByb3BUeXBlLFxuICBSZWYsXG59IGZyb20gJ3Z1ZSdcbmltcG9ydCB0eXBlIHsgRGVsYXlQcm9wcyB9IGZyb20gJ0AvY29tcG9zYWJsZXMvZGVsYXknXG5cbmludGVyZmFjZSBBY3RpdmF0b3JQcm9wcyBleHRlbmRzIERlbGF5UHJvcHMge1xuICB0YXJnZXQ6ICdwYXJlbnQnIHwgJ2N1cnNvcicgfCAoc3RyaW5nICYge30pIHwgRWxlbWVudCB8IENvbXBvbmVudFB1YmxpY0luc3RhbmNlIHwgW3g6IG51bWJlciwgeTogbnVtYmVyXSB8IHVuZGVmaW5lZFxuICBhY3RpdmF0b3I6ICdwYXJlbnQnIHwgKHN0cmluZyAmIHt9KSB8IEVsZW1lbnQgfCBDb21wb25lbnRQdWJsaWNJbnN0YW5jZSB8IHVuZGVmaW5lZFxuICBhY3RpdmF0b3JQcm9wczogUmVjb3JkPHN0cmluZywgYW55PlxuXG4gIG9wZW5PbkNsaWNrOiBib29sZWFuIHwgdW5kZWZpbmVkXG4gIG9wZW5PbkhvdmVyOiBib29sZWFuXG4gIG9wZW5PbkZvY3VzOiBib29sZWFuIHwgdW5kZWZpbmVkXG5cbiAgY2xvc2VPbkNvbnRlbnRDbGljazogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgbWFrZUFjdGl2YXRvclByb3BzID0gcHJvcHNGYWN0b3J5KHtcbiAgdGFyZ2V0OiBbU3RyaW5nLCBPYmplY3RdIGFzIFByb3BUeXBlPEFjdGl2YXRvclByb3BzWyd0YXJnZXQnXT4sXG4gIGFjdGl2YXRvcjogW1N0cmluZywgT2JqZWN0XSBhcyBQcm9wVHlwZTxBY3RpdmF0b3JQcm9wc1snYWN0aXZhdG9yJ10+LFxuICBhY3RpdmF0b3JQcm9wczoge1xuICAgIHR5cGU6IE9iamVjdCBhcyBQcm9wVHlwZTxBY3RpdmF0b3JQcm9wc1snYWN0aXZhdG9yUHJvcHMnXT4sXG4gICAgZGVmYXVsdDogKCkgPT4gKHt9KSxcbiAgfSxcblxuICBvcGVuT25DbGljazoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdW5kZWZpbmVkLFxuICB9LFxuICBvcGVuT25Ib3ZlcjogQm9vbGVhbixcbiAgb3Blbk9uRm9jdXM6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCxcbiAgfSxcblxuICBjbG9zZU9uQ29udGVudENsaWNrOiBCb29sZWFuLFxuXG4gIC4uLm1ha2VEZWxheVByb3BzKCksXG59LCAnVk92ZXJsYXktYWN0aXZhdG9yJylcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFjdGl2YXRvciAoXG4gIHByb3BzOiBBY3RpdmF0b3JQcm9wcyxcbiAgeyBpc0FjdGl2ZSwgaXNUb3AsIGNvbnRlbnRFbCB9OiB7XG4gICAgaXNBY3RpdmU6IFJlZjxib29sZWFuPlxuICAgIGlzVG9wOiBSZWY8Ym9vbGVhbj5cbiAgICBjb250ZW50RWw6IFJlZjxIVE1MRWxlbWVudCB8IHVuZGVmaW5lZD5cbiAgfVxuKSB7XG4gIGNvbnN0IHZtID0gZ2V0Q3VycmVudEluc3RhbmNlKCd1c2VBY3RpdmF0b3InKVxuICBjb25zdCBhY3RpdmF0b3JFbCA9IHJlZjxIVE1MRWxlbWVudD4oKVxuXG4gIGxldCBpc0hvdmVyZWQgPSBmYWxzZVxuICBsZXQgaXNGb2N1c2VkID0gZmFsc2VcbiAgbGV0IGZpcnN0RW50ZXIgPSB0cnVlXG5cbiAgY29uc3Qgb3Blbk9uRm9jdXMgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy5vcGVuT25Gb2N1cyB8fCAocHJvcHMub3Blbk9uRm9jdXMgPT0gbnVsbCAmJiBwcm9wcy5vcGVuT25Ib3ZlcikpXG4gIGNvbnN0IG9wZW5PbkNsaWNrID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMub3Blbk9uQ2xpY2sgfHwgKHByb3BzLm9wZW5PbkNsaWNrID09IG51bGwgJiYgIXByb3BzLm9wZW5PbkhvdmVyICYmICFvcGVuT25Gb2N1cy52YWx1ZSkpXG5cbiAgY29uc3QgeyBydW5PcGVuRGVsYXksIHJ1bkNsb3NlRGVsYXkgfSA9IHVzZURlbGF5KHByb3BzLCB2YWx1ZSA9PiB7XG4gICAgaWYgKFxuICAgICAgdmFsdWUgPT09IChcbiAgICAgICAgKHByb3BzLm9wZW5PbkhvdmVyICYmIGlzSG92ZXJlZCkgfHxcbiAgICAgICAgKG9wZW5PbkZvY3VzLnZhbHVlICYmIGlzRm9jdXNlZClcbiAgICAgICkgJiYgIShwcm9wcy5vcGVuT25Ib3ZlciAmJiBpc0FjdGl2ZS52YWx1ZSAmJiAhaXNUb3AudmFsdWUpXG4gICAgKSB7XG4gICAgICBpZiAoaXNBY3RpdmUudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIGZpcnN0RW50ZXIgPSB0cnVlXG4gICAgICB9XG4gICAgICBpc0FjdGl2ZS52YWx1ZSA9IHZhbHVlXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IGN1cnNvclRhcmdldCA9IHJlZjxbeDogbnVtYmVyLCB5OiBudW1iZXJdPigpXG4gIGNvbnN0IGF2YWlsYWJsZUV2ZW50cyA9IHtcbiAgICBvbkNsaWNrOiAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgYWN0aXZhdG9yRWwudmFsdWUgPSAoZS5jdXJyZW50VGFyZ2V0IHx8IGUudGFyZ2V0KSBhcyBIVE1MRWxlbWVudFxuICAgICAgaWYgKCFpc0FjdGl2ZS52YWx1ZSkge1xuICAgICAgICBjdXJzb3JUYXJnZXQudmFsdWUgPSBbZS5jbGllbnRYLCBlLmNsaWVudFldXG4gICAgICB9XG4gICAgICBpc0FjdGl2ZS52YWx1ZSA9ICFpc0FjdGl2ZS52YWx1ZVxuICAgIH0sXG4gICAgb25Nb3VzZWVudGVyOiAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgaWYgKGUuc291cmNlQ2FwYWJpbGl0aWVzPy5maXJlc1RvdWNoRXZlbnRzKSByZXR1cm5cblxuICAgICAgaXNIb3ZlcmVkID0gdHJ1ZVxuICAgICAgYWN0aXZhdG9yRWwudmFsdWUgPSAoZS5jdXJyZW50VGFyZ2V0IHx8IGUudGFyZ2V0KSBhcyBIVE1MRWxlbWVudFxuICAgICAgcnVuT3BlbkRlbGF5KClcbiAgICB9LFxuICAgIG9uTW91c2VsZWF2ZTogKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlzSG92ZXJlZCA9IGZhbHNlXG4gICAgICBydW5DbG9zZURlbGF5KClcbiAgICB9LFxuICAgIG9uRm9jdXM6IChlOiBGb2N1c0V2ZW50KSA9PiB7XG4gICAgICBpZiAobWF0Y2hlc1NlbGVjdG9yKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50LCAnOmZvY3VzLXZpc2libGUnKSA9PT0gZmFsc2UpIHJldHVyblxuXG4gICAgICBpc0ZvY3VzZWQgPSB0cnVlXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICBhY3RpdmF0b3JFbC52YWx1ZSA9IChlLmN1cnJlbnRUYXJnZXQgfHwgZS50YXJnZXQpIGFzIEhUTUxFbGVtZW50XG5cbiAgICAgIHJ1bk9wZW5EZWxheSgpXG4gICAgfSxcbiAgICBvbkJsdXI6IChlOiBGb2N1c0V2ZW50KSA9PiB7XG4gICAgICBpc0ZvY3VzZWQgPSBmYWxzZVxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgICBydW5DbG9zZURlbGF5KClcbiAgICB9LFxuICB9XG5cbiAgY29uc3QgYWN0aXZhdG9yRXZlbnRzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50czogUGFydGlhbDx0eXBlb2YgYXZhaWxhYmxlRXZlbnRzPiA9IHt9XG5cbiAgICBpZiAob3Blbk9uQ2xpY2sudmFsdWUpIHtcbiAgICAgIGV2ZW50cy5vbkNsaWNrID0gYXZhaWxhYmxlRXZlbnRzLm9uQ2xpY2tcbiAgICB9XG4gICAgaWYgKHByb3BzLm9wZW5PbkhvdmVyKSB7XG4gICAgICBldmVudHMub25Nb3VzZWVudGVyID0gYXZhaWxhYmxlRXZlbnRzLm9uTW91c2VlbnRlclxuICAgICAgZXZlbnRzLm9uTW91c2VsZWF2ZSA9IGF2YWlsYWJsZUV2ZW50cy5vbk1vdXNlbGVhdmVcbiAgICB9XG4gICAgaWYgKG9wZW5PbkZvY3VzLnZhbHVlKSB7XG4gICAgICBldmVudHMub25Gb2N1cyA9IGF2YWlsYWJsZUV2ZW50cy5vbkZvY3VzXG4gICAgICBldmVudHMub25CbHVyID0gYXZhaWxhYmxlRXZlbnRzLm9uQmx1clxuICAgIH1cblxuICAgIHJldHVybiBldmVudHNcbiAgfSlcblxuICBjb25zdCBjb250ZW50RXZlbnRzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50czogUmVjb3JkPHN0cmluZywgRXZlbnRMaXN0ZW5lcj4gPSB7fVxuXG4gICAgaWYgKHByb3BzLm9wZW5PbkhvdmVyKSB7XG4gICAgICBldmVudHMub25Nb3VzZWVudGVyID0gKCkgPT4ge1xuICAgICAgICBpc0hvdmVyZWQgPSB0cnVlXG4gICAgICAgIHJ1bk9wZW5EZWxheSgpXG4gICAgICB9XG4gICAgICBldmVudHMub25Nb3VzZWxlYXZlID0gKCkgPT4ge1xuICAgICAgICBpc0hvdmVyZWQgPSBmYWxzZVxuICAgICAgICBydW5DbG9zZURlbGF5KClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3Blbk9uRm9jdXMudmFsdWUpIHtcbiAgICAgIGV2ZW50cy5vbkZvY3VzaW4gPSAoKSA9PiB7XG4gICAgICAgIGlzRm9jdXNlZCA9IHRydWVcbiAgICAgICAgcnVuT3BlbkRlbGF5KClcbiAgICAgIH1cbiAgICAgIGV2ZW50cy5vbkZvY3Vzb3V0ID0gKCkgPT4ge1xuICAgICAgICBpc0ZvY3VzZWQgPSBmYWxzZVxuICAgICAgICBydW5DbG9zZURlbGF5KClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvcHMuY2xvc2VPbkNvbnRlbnRDbGljaykge1xuICAgICAgY29uc3QgbWVudSA9IGluamVjdChWTWVudVN5bWJvbCwgbnVsbClcbiAgICAgIGV2ZW50cy5vbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICBpc0FjdGl2ZS52YWx1ZSA9IGZhbHNlXG4gICAgICAgIG1lbnU/LmNsb3NlUGFyZW50cygpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50c1xuICB9KVxuXG4gIGNvbnN0IHNjcmltRXZlbnRzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50czogUmVjb3JkPHN0cmluZywgRXZlbnRMaXN0ZW5lcj4gPSB7fVxuXG4gICAgaWYgKHByb3BzLm9wZW5PbkhvdmVyKSB7XG4gICAgICBldmVudHMub25Nb3VzZWVudGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAoZmlyc3RFbnRlcikge1xuICAgICAgICAgIGlzSG92ZXJlZCA9IHRydWVcbiAgICAgICAgICBmaXJzdEVudGVyID0gZmFsc2VcbiAgICAgICAgICBydW5PcGVuRGVsYXkoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBldmVudHMub25Nb3VzZWxlYXZlID0gKCkgPT4ge1xuICAgICAgICBpc0hvdmVyZWQgPSBmYWxzZVxuICAgICAgICBydW5DbG9zZURlbGF5KClcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnRzXG4gIH0pXG5cbiAgd2F0Y2goaXNUb3AsIHZhbCA9PiB7XG4gICAgaWYgKHZhbCAmJiAoXG4gICAgICAocHJvcHMub3Blbk9uSG92ZXIgJiYgIWlzSG92ZXJlZCAmJiAoIW9wZW5PbkZvY3VzLnZhbHVlIHx8ICFpc0ZvY3VzZWQpKSB8fFxuICAgICAgKG9wZW5PbkZvY3VzLnZhbHVlICYmICFpc0ZvY3VzZWQgJiYgKCFwcm9wcy5vcGVuT25Ib3ZlciB8fCAhaXNIb3ZlcmVkKSlcbiAgICApICYmICFjb250ZW50RWwudmFsdWU/LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICBpc0FjdGl2ZS52YWx1ZSA9IGZhbHNlXG4gICAgfVxuICB9KVxuXG4gIHdhdGNoKGlzQWN0aXZlLCB2YWwgPT4ge1xuICAgIGlmICghdmFsKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY3Vyc29yVGFyZ2V0LnZhbHVlID0gdW5kZWZpbmVkXG4gICAgICB9KVxuICAgIH1cbiAgfSwgeyBmbHVzaDogJ3Bvc3QnIH0pXG5cbiAgY29uc3QgYWN0aXZhdG9yUmVmID0gdGVtcGxhdGVSZWYoKVxuICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhY3RpdmF0b3JSZWYudmFsdWUpIHJldHVyblxuXG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgYWN0aXZhdG9yRWwudmFsdWUgPSBhY3RpdmF0b3JSZWYuZWxcbiAgICB9KVxuICB9KVxuXG4gIGNvbnN0IHRhcmdldFJlZiA9IHRlbXBsYXRlUmVmKClcbiAgY29uc3QgdGFyZ2V0ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChwcm9wcy50YXJnZXQgPT09ICdjdXJzb3InICYmIGN1cnNvclRhcmdldC52YWx1ZSkgcmV0dXJuIGN1cnNvclRhcmdldC52YWx1ZVxuICAgIGlmICh0YXJnZXRSZWYudmFsdWUpIHJldHVybiB0YXJnZXRSZWYuZWxcbiAgICByZXR1cm4gZ2V0VGFyZ2V0KHByb3BzLnRhcmdldCwgdm0pIHx8IGFjdGl2YXRvckVsLnZhbHVlXG4gIH0pXG4gIGNvbnN0IHRhcmdldEVsID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRhcmdldC52YWx1ZSlcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHRhcmdldC52YWx1ZVxuICB9KVxuXG4gIGxldCBzY29wZTogRWZmZWN0U2NvcGVcbiAgd2F0Y2goKCkgPT4gISFwcm9wcy5hY3RpdmF0b3IsIHZhbCA9PiB7XG4gICAgaWYgKHZhbCAmJiBJTl9CUk9XU0VSKSB7XG4gICAgICBzY29wZSA9IGVmZmVjdFNjb3BlKClcbiAgICAgIHNjb3BlLnJ1bigoKSA9PiB7XG4gICAgICAgIF91c2VBY3RpdmF0b3IocHJvcHMsIHZtLCB7IGFjdGl2YXRvckVsLCBhY3RpdmF0b3JFdmVudHMgfSlcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChzY29wZSkge1xuICAgICAgc2NvcGUuc3RvcCgpXG4gICAgfVxuICB9LCB7IGZsdXNoOiAncG9zdCcsIGltbWVkaWF0ZTogdHJ1ZSB9KVxuXG4gIG9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBzY29wZT8uc3RvcCgpXG4gIH0pXG5cbiAgcmV0dXJuIHsgYWN0aXZhdG9yRWwsIGFjdGl2YXRvclJlZiwgdGFyZ2V0LCB0YXJnZXRFbCwgdGFyZ2V0UmVmLCBhY3RpdmF0b3JFdmVudHMsIGNvbnRlbnRFdmVudHMsIHNjcmltRXZlbnRzIH1cbn1cblxuZnVuY3Rpb24gX3VzZUFjdGl2YXRvciAoXG4gIHByb3BzOiBBY3RpdmF0b3JQcm9wcyxcbiAgdm06IENvbXBvbmVudEludGVybmFsSW5zdGFuY2UsXG4gIHsgYWN0aXZhdG9yRWwsIGFjdGl2YXRvckV2ZW50cyB9OiBQaWNrPFJldHVyblR5cGU8dHlwZW9mIHVzZUFjdGl2YXRvcj4sICdhY3RpdmF0b3JFbCcgfCAnYWN0aXZhdG9yRXZlbnRzJz5cbikge1xuICB3YXRjaCgoKSA9PiBwcm9wcy5hY3RpdmF0b3IsICh2YWwsIG9sZFZhbCkgPT4ge1xuICAgIGlmIChvbGRWYWwgJiYgdmFsICE9PSBvbGRWYWwpIHtcbiAgICAgIGNvbnN0IGFjdGl2YXRvciA9IGdldEFjdGl2YXRvcihvbGRWYWwpXG4gICAgICBhY3RpdmF0b3IgJiYgdW5iaW5kQWN0aXZhdG9yUHJvcHMoYWN0aXZhdG9yKVxuICAgIH1cbiAgICBpZiAodmFsKSB7XG4gICAgICBuZXh0VGljaygoKSA9PiBiaW5kQWN0aXZhdG9yUHJvcHMoKSlcbiAgICB9XG4gIH0sIHsgaW1tZWRpYXRlOiB0cnVlIH0pXG5cbiAgd2F0Y2goKCkgPT4gcHJvcHMuYWN0aXZhdG9yUHJvcHMsICgpID0+IHtcbiAgICBiaW5kQWN0aXZhdG9yUHJvcHMoKVxuICB9KVxuXG4gIG9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICB1bmJpbmRBY3RpdmF0b3JQcm9wcygpXG4gIH0pXG5cbiAgZnVuY3Rpb24gYmluZEFjdGl2YXRvclByb3BzIChlbCA9IGdldEFjdGl2YXRvcigpLCBfcHJvcHMgPSBwcm9wcy5hY3RpdmF0b3JQcm9wcykge1xuICAgIGlmICghZWwpIHJldHVyblxuXG4gICAgYmluZFByb3BzKGVsLCBtZXJnZVByb3BzKGFjdGl2YXRvckV2ZW50cy52YWx1ZSwgX3Byb3BzKSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuYmluZEFjdGl2YXRvclByb3BzIChlbCA9IGdldEFjdGl2YXRvcigpLCBfcHJvcHMgPSBwcm9wcy5hY3RpdmF0b3JQcm9wcykge1xuICAgIGlmICghZWwpIHJldHVyblxuXG4gICAgdW5iaW5kUHJvcHMoZWwsIG1lcmdlUHJvcHMoYWN0aXZhdG9yRXZlbnRzLnZhbHVlLCBfcHJvcHMpKVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QWN0aXZhdG9yIChzZWxlY3RvciA9IHByb3BzLmFjdGl2YXRvcik6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBhY3RpdmF0b3IgPSBnZXRUYXJnZXQoc2VsZWN0b3IsIHZtKVxuXG4gICAgLy8gVGhlIGFjdGl2YXRvciBzaG91bGQgb25seSBiZSBhIHZhbGlkIGVsZW1lbnQgKElnbm9yZSBjb21tZW50cyBhbmQgdGV4dCBub2RlcylcbiAgICBhY3RpdmF0b3JFbC52YWx1ZSA9IGFjdGl2YXRvcj8ubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFID8gYWN0aXZhdG9yIDogdW5kZWZpbmVkXG5cbiAgICByZXR1cm4gYWN0aXZhdG9yRWwudmFsdWVcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXQ8VCBleHRlbmRzICdwYXJlbnQnIHwgc3RyaW5nIHwgRWxlbWVudCB8IENvbXBvbmVudFB1YmxpY0luc3RhbmNlIHwgW3g6IG51bWJlciwgeTogbnVtYmVyXSB8IHVuZGVmaW5lZD4gKFxuICBzZWxlY3RvcjogVCxcbiAgdm06IENvbXBvbmVudEludGVybmFsSW5zdGFuY2Vcbik6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkIHwgKFQgZXh0ZW5kcyBhbnlbXSA/IFt4OiBudW1iZXIsIHk6IG51bWJlcl0gOiBuZXZlcikge1xuICBpZiAoIXNlbGVjdG9yKSByZXR1cm5cblxuICBsZXQgdGFyZ2V0XG4gIGlmIChzZWxlY3RvciA9PT0gJ3BhcmVudCcpIHtcbiAgICBsZXQgZWwgPSB2bT8ucHJveHk/LiRlbD8ucGFyZW50Tm9kZVxuICAgIHdoaWxlIChlbD8uaGFzQXR0cmlidXRlKCdkYXRhLW5vLWFjdGl2YXRvcicpKSB7XG4gICAgICBlbCA9IGVsLnBhcmVudE5vZGVcbiAgICB9XG4gICAgdGFyZ2V0ID0gZWxcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gU2VsZWN0b3JcbiAgICB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICB9IGVsc2UgaWYgKCckZWwnIGluIHNlbGVjdG9yKSB7XG4gICAgLy8gQ29tcG9uZW50IChyZWYpXG4gICAgdGFyZ2V0ID0gc2VsZWN0b3IuJGVsXG4gIH0gZWxzZSB7XG4gICAgLy8gSFRNTEVsZW1lbnQgfCBFbGVtZW50IHwgW3gsIHldXG4gICAgdGFyZ2V0ID0gc2VsZWN0b3JcbiAgfVxuXG4gIHJldHVybiB0YXJnZXRcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxTQUNTQSxXQUFXLCtCQUVwQjtBQUFBLFNBQ1NDLGNBQWMsRUFBRUMsUUFBUSx1Q0FFakM7QUFDQSxTQUNFQyxRQUFRLEVBQ1JDLFdBQVcsRUFDWEMsTUFBTSxFQUNOQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsY0FBYyxFQUNkQyxHQUFHLEVBQ0hDLEtBQUssRUFDTEMsV0FBVyxRQUNOLEtBQUs7QUFBQSxTQUVWQyxTQUFTLEVBQ1RDLGtCQUFrQixFQUNsQkMsVUFBVSxFQUNWQyxlQUFlLEVBQ2ZDLFlBQVksRUFDWkMsV0FBVyxFQUNYQyxXQUFXLGdDQUdiO0FBc0JBLE9BQU8sTUFBTUMs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