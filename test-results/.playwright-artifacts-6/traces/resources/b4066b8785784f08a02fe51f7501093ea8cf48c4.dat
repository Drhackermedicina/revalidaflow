/**
 * Returns:
 *  - 'null' if the node is not attached to the DOM
 *  - the root node (HTMLDocument | ShadowRoot) otherwise
 */
export function attachedRoot(node) {
  /* istanbul ignore next */
  if (typeof node.getRootNode !== 'function') {
    // Shadow DOM not supported (IE11), lets find the root of this node
    while (node.parentNode) node = node.parentNode;

    // The root parent is the document if the node is attached to the DOM
    if (node !== document) return null;
    return document;
  }
  const root = node.getRootNode();

  // The composed root node is the document if the node is attached to the DOM
  if (root !== document && root.getRootNode({
    composed: true
  }) !== document) return null;
  return root;
}
                                
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLm1qcyIsIm5hbWVzIjpbImF0dGFjaGVkUm9vdCIsIm5vZGUiLCJnZXRSb290Tm9kZSIsInBhcmVudE5vZGUiLCJkb2N1bWVudCIsInJvb3QiLCJjb21wb3NlZCJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2RvbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJldHVybnM6XG4gKiAgLSAnbnVsbCcgaWYgdGhlIG5vZGUgaXMgbm90IGF0dGFjaGVkIHRvIHRoZSBET01cbiAqICAtIHRoZSByb290IG5vZGUgKEhUTUxEb2N1bWVudCB8IFNoYWRvd1Jvb3QpIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoZWRSb290IChub2RlOiBOb2RlKTogbnVsbCB8IEhUTUxEb2N1bWVudCB8IFNoYWRvd1Jvb3Qge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAodHlwZW9mIG5vZGUuZ2V0Um9vdE5vZGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBTaGFkb3cgRE9NIG5vdCBzdXBwb3J0ZWQgKElFMTEpLCBsZXRzIGZpbmQgdGhlIHJvb3Qgb2YgdGhpcyBub2RlXG4gICAgd2hpbGUgKG5vZGUucGFyZW50Tm9kZSkgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuXG4gICAgLy8gVGhlIHJvb3QgcGFyZW50IGlzIHRoZSBkb2N1bWVudCBpZiB0aGUgbm9kZSBpcyBhdHRhY2hlZCB0byB0aGUgRE9NXG4gICAgaWYgKG5vZGUgIT09IGRvY3VtZW50KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIGRvY3VtZW50XG4gIH1cblxuICBjb25zdCByb290ID0gbm9kZS5nZXRSb290Tm9kZSgpXG5cbiAgLy8gVGhlIGNvbXBvc2VkIHJvb3Qgbm9kZSBpcyB0aGUgZG9jdW1lbnQgaWYgdGhlIG5vZGUgaXMgYXR0YWNoZWQgdG8gdGhlIERPTVxuICBpZiAocm9vdCAhPT0gZG9jdW1lbnQgJiYgcm9vdC5nZXRSb290Tm9kZSh7IGNvbXBvc2VkOiB0cnVlIH0pICE9PSBkb2N1bWVudCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gcm9vdCBhcyBIVE1MRG9jdW1lbnQgfCBTaGFkb3dSb290XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLFNBQVNBLFlBQVlBLENBQUVDLElBQVUsRUFBb0M7RUFDMUU7RUFDQSxJQUFJLE9BQU9BLElBQUksQ0FBQ0MsV0FBVyxLQUFLLFVBQVUsRUFBRTtJQUMxQztJQUNBLE9BQU9ELElBQUksQ0FBQ0UsVUFBVSxFQUFFRixJQUFJLEdBQUdBLElBQUksQ0FBQ0UsVUFBVTs7SUFFOUM7SUFDQSxJQUFJRixJQUFJLEtBQUtHLFFBQVEsRUFBRSxPQUFPLElBQUk7SUFFbEMsT0FBT0EsUUFBUTtFQUNqQjtFQUVBLE1BQU1DLElBQUksR0FBR0osSUFBSSxDQUFDQyxXQUFXLENBQUMsQ0FBQzs7RUFFL0I7RUFDQSxJQUFJRyxJQUFJLEtBQUtELFFBQVEsSUFBSUMsSUFBSSxDQUFDSCxXQUFXLENBQUM7SUFBRUksUUFBUSxFQUFFO0VBQUssQ0FBQyxDQUFDLEtBQUtGLFFBQVEsRUFBRSxPQUFPLElBQUk7RUFFdkYsT0FBT0MsSUFBSTtBQUNiIiwiaWdub3JlTGlzdCI6W10sInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=