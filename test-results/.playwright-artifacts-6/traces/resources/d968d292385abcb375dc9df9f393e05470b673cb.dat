// Utilities
import { clamp } from "/node_modules/vuetify/lib/util/helpers.mjs?v=48017b6c"; // Types
// For converting XYZ to sRGB
const srgbForwardMatrix = [[3.2406, -1.5372, -0.4986], [-0.9689, 1.8758, 0.0415], [0.0557, -0.2040, 1.0570]];

// Forward gamma adjust
const srgbForwardTransform = C => C <= 0.0031308 ? C * 12.92 : 1.055 * C ** (1 / 2.4) - 0.055;

// For converting sRGB to XYZ
const srgbReverseMatrix = [[0.4124, 0.3576, 0.1805], [0.2126, 0.7152, 0.0722], [0.0193, 0.1192, 0.9505]];

// Reverse gamma adjust
const srgbReverseTransform = C => C <= 0.04045 ? C / 12.92 : ((C + 0.055) / 1.055) ** 2.4;
export function fromXYZ(xyz) {
  const rgb = Array(3);
  const transform = srgbForwardTransform;
  const matrix = srgbForwardMatrix;

  // Matrix transform, then gamma adjustment
  for (let i = 0; i < 3; ++i) {
    // Rescale back to [0, 255]
    rgb[i] = Math.round(clamp(transform(matrix[i][0] * xyz[0] + matrix[i][1] * xyz[1] + matrix[i][2] * xyz[2])) * 255);
  }
  return {
    r: rgb[0],
    g: rgb[1],
    b: rgb[2]
  };
}
export function toXYZ(_ref) {
  let {
    r,
    g,
    b
  } = _ref;
  const xyz = [0, 0, 0];
  const transform = srgbReverseTransform;
  const matrix = srgbReverseMatrix;

  // Rescale from [0, 255] to [0, 1] then adjust sRGB gamma to linear RGB
  r = transform(r / 255);
  g = transform(g / 255);
  b = transform(b / 255);

  // Matrix color space transform
  for (let i = 0; i < 3; ++i) {
    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b;
  }
  return xyz;
}
                                          
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNmb3JtU1JHQi5tanMiLCJuYW1lcyI6WyJjbGFtcCIsInNyZ2JGb3J3YXJkTWF0cml4Iiwic3JnYkZvcndhcmRUcmFuc2Zvcm0iLCJDIiwic3JnYlJldmVyc2VNYXRyaXgiLCJzcmdiUmV2ZXJzZVRyYW5zZm9ybSIsImZyb21YWVoiLCJ4eXoiLCJyZ2IiLCJBcnJheSIsInRyYW5zZm9ybSIsIm1hdHJpeCIsImkiLCJNYXRoIiwicm91bmQiLCJyIiwiZyIsImIiLCJ0b1hZWiIsIl9yZWYiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdXRpbC9jb2xvci90cmFuc2Zvcm1TUkdCLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFV0aWxpdGllc1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICdAL3V0aWwvaGVscGVycydcblxuLy8gVHlwZXNcbmltcG9ydCB0eXBlIHsgUkdCLCBYWVogfSBmcm9tICcuLi9jb2xvclV0aWxzJ1xuXG4vLyBGb3IgY29udmVydGluZyBYWVogdG8gc1JHQlxuY29uc3Qgc3JnYkZvcndhcmRNYXRyaXggPSBbXG4gIFszLjI0MDYsIC0xLjUzNzIsIC0wLjQ5ODZdLFxuICBbLTAuOTY4OSwgMS44NzU4LCAwLjA0MTVdLFxuICBbMC4wNTU3LCAtMC4yMDQwLCAxLjA1NzBdLFxuXVxuXG4vLyBGb3J3YXJkIGdhbW1hIGFkanVzdFxuY29uc3Qgc3JnYkZvcndhcmRUcmFuc2Zvcm0gPSAoQzogbnVtYmVyKTogbnVtYmVyID0+IChcbiAgQyA8PSAwLjAwMzEzMDhcbiAgICA/IEMgKiAxMi45MlxuICAgIDogMS4wNTUgKiBDICoqICgxIC8gMi40KSAtIDAuMDU1XG4pXG5cbi8vIEZvciBjb252ZXJ0aW5nIHNSR0IgdG8gWFlaXG5jb25zdCBzcmdiUmV2ZXJzZU1hdHJpeCA9IFtcbiAgWzAuNDEyNCwgMC4zNTc2LCAwLjE4MDVdLFxuICBbMC4yMTI2LCAwLjcxNTIsIDAuMDcyMl0sXG4gIFswLjAxOTMsIDAuMTE5MiwgMC45NTA1XSxcbl1cblxuLy8gUmV2ZXJzZSBnYW1tYSBhZGp1c3RcbmNvbnN0IHNyZ2JSZXZlcnNlVHJhbnNmb3JtID0gKEM6IG51bWJlcik6IG51bWJlciA9PiAoXG4gIEMgPD0gMC4wNDA0NVxuICAgID8gQyAvIDEyLjkyXG4gICAgOiAoKEMgKyAwLjA1NSkgLyAxLjA1NSkgKiogMi40XG4pXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWFlaICh4eXo6IFhZWik6IFJHQiB7XG4gIGNvbnN0IHJnYiA9IEFycmF5KDMpXG4gIGNvbnN0IHRyYW5zZm9ybSA9IHNyZ2JGb3J3YXJkVHJhbnNmb3JtXG4gIGNvbnN0IG1hdHJpeCA9IHNyZ2JGb3J3YXJkTWF0cml4XG5cbiAgLy8gTWF0cml4IHRyYW5zZm9ybSwgdGhlbiBnYW1tYSBhZGp1c3RtZW50XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgKytpKSB7XG4gICAgLy8gUmVzY2FsZSBiYWNrIHRvIFswLCAyNTVdXG4gICAgcmdiW2ldID0gTWF0aC5yb3VuZChjbGFtcCh0cmFuc2Zvcm0oXG4gICAgICBtYXRyaXhbaV1bMF0gKiB4eXpbMF0gK1xuICAgICAgbWF0cml4W2ldWzFdICogeHl6WzFdICtcbiAgICAgIG1hdHJpeFtpXVsyXSAqIHh5elsyXVxuICAgICkpICogMjU1KVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByOiByZ2JbMF0sXG4gICAgZzogcmdiWzFdLFxuICAgIGI6IHJnYlsyXSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9YWVogKHsgciwgZywgYiB9OiBSR0IpOiBYWVoge1xuICBjb25zdCB4eXo6IFhZWiA9IFswLCAwLCAwXVxuICBjb25zdCB0cmFuc2Zvcm0gPSBzcmdiUmV2ZXJzZVRyYW5zZm9ybVxuICBjb25zdCBtYXRyaXggPSBzcmdiUmV2ZXJzZU1hdHJpeFxuXG4gIC8vIFJlc2NhbGUgZnJvbSBbMCwgMjU1XSB0byBbMCwgMV0gdGhlbiBhZGp1c3Qgc1JHQiBnYW1tYSB0byBsaW5lYXIgUkdCXG4gIHIgPSB0cmFuc2Zvcm0ociAvIDI1NSlcbiAgZyA9IHRyYW5zZm9ybShnIC8gMjU1KVxuICBiID0gdHJhbnNmb3JtKGIgLyAyNTUpXG5cbiAgLy8gTWF0cml4IGNvbG9yIHNwYWNlIHRyYW5zZm9ybVxuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7ICsraSkge1xuICAgIHh5eltpXSA9IG1hdHJpeFtpXVswXSAqIHIgKyBtYXRyaXhbaV1bMV0gKiBnICsgbWF0cml4W2ldWzJdICogYlxuICB9XG5cbiAgcmV0dXJuIHh5elxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLFNBQ1NBLEtBQUssMEJBRWQ7QUFHQTtBQUNBLE1BQU1DLGlCQUFpQixHQUFHLENBQ3hCLENBQUMsTUFBTSxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQzFCLENBQUMsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUN6QixDQUFDLE1BQU0sRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FDMUI7O0FBRUQ7QUFDQSxNQUFNQyxvQkFBb0IsR0FBSUMsQ0FBUyxJQUNyQ0EsQ0FBQyxJQUFJLFNBQVMsR0FDVkEsQ0FBQyxHQUFHLEtBQUssR0FDVCxLQUFLLEdBQUdBLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsS0FDOUI7O0FBRUQ7QUFDQSxNQUFNQyxpQkFBaUIsR0FBRyxDQUN4QixDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQ3hCLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFDeEIsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUN6Qjs7QUFFRDtBQUNBLE1BQU1DLG9CQUFvQixHQUFJRixDQUFTLElBQ3JDQSxDQUFDLElBQUksT0FBTyxHQUNSQSxDQUFDLEdBQUcsS0FBSyxHQUNULENBQUMsQ0FBQ0EsQ0FBQyxHQUFHLEtBQUssSUFBSSxLQUFLLEtBQUssR0FDOUI7QUFFRCxPQUFPLFNBQVNHLE9BQU9BLENBQUVDLEdBQVEsRUFBTztFQUN0QyxNQUFNQyxHQUFHLEdBQUdDLEtBQUssQ0FBQyxDQUFDLENBQUM7RUFDcEIsTUFBTUMsU0FBUyxHQUFHUixvQkFBb0I7RUFDdEMsTUFBTVMsTUFBTSxHQUFHVixpQkFBaUI7O0VBRWhDO0VBQ0EsS0FBSyxJQUFJVyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUVBLENBQUMsRUFBRTtJQUMxQjtJQUNBSixHQUFHLENBQUNJLENBQUMsQ0FBQyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ2QsS0FBSyxDQUFDVSxTQUFTLENBQ2pDQyxNQUFNLENBQUNDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHTCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQ3JCSSxNQUFNLENBQUNDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHTCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQ3JCSSxNQUFNLENBQUNDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHTCxHQUFHLENBQUMsQ0FBQyxDQUN0QixDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7RUFDWDtFQUVBLE9BQU87SUFDTFEsQ0FBQyxFQUFFUCxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ1RRLENBQUMsRUFBRVIsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNUUyxDQUFDLEVBQUVULEdBQUcsQ0FBQyxDQUFDO0VBQ1YsQ0FBQztBQUNIO0FBRUEsT0FBTyxTQUFTVSxLQUFLQSxDQUFBQyxJQUFBLEVBQXlCO0VBQUEsSUFBdkI7SUFBRUosQ0FBQztJQUFFQyxDQUFDO0lBQUVDO0VBQU8sQ0FBQyxHQUFBRSxJQUFBO0VBQ3JDLE1BQU1aLEdBQVEsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0VBQzFCLE1BQU1HLFNBQVMsR0FBR0wsb0JBQW9CO0VBQ3RDLE1BQU1NLE1BQU0sR0FBR1AsaUJBQWlCOztFQUVoQztFQUNBVyxDQUFDLEdBQUdMLFNBQVMsQ0FBQ0ssQ0FBQyxHQUFHLEdBQUcsQ0FBQztFQUN0QkMsQ0FBQyxHQUFHTixTQUFTLENBQUNNLENBQUMsR0FBRyxHQUFHLENBQUM7RUFDdEJDLENBQUMsR0FBR1AsU0FBUyxDQUFDTyxDQUFDLEdBQUcsR0FBRyxDQUFDOztFQUV0QjtFQUNBLEtBQUssSUFBSUwsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFQSxDQUFDLEVBQUU7SUFDMUJMLEdBQUcsQ0FBQ0ssQ0FBQyxDQUFDLEdBQUdELE1BQU0sQ0FBQ0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUdHLENBQUMsR0FBR0osTUFBTSxDQUFDQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBR0ksQ0FBQyxHQUFHTCxNQUFNLENBQUNDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHSyxDQUFDO0VBQ2pFO0VBRUEsT0FBT1YsR0FBRztBQUNaIiwiaWdub3JlTGlzdCI6W10sInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=